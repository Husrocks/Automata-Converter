<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TM â†’ FA | Automata Visualizer Pro</title>
  <link rel="stylesheet" href="styles.css"/>
  <script src="js/theme.js" defer></script>
  <script src="js/graph-renderer.js" defer></script>
  <script src="js/visual-builder.js" defer></script>
  <script src="js/solved-examples.js"></script>
  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
</head>
<body>
  <!-- Use this for the nav section in all your HTML files -->
<nav class="navbar glass">
  <!-- Use this for the brand section in all navbars -->
  <div class="brand">
    <a href="index.html" class="brand-title">Automata Visualizer Pro</a>
  </div>
  <ul class="nav-links">
    <li><a href="index.html" class="active">Home</a></li>
    <li>
      <a href="nfa-to-dfa.html" class="nav-item-link">
        <span class="nav-label">NFA</span>
        <span class="nav-arrow">â†’</span>
        <span class="nav-label">DFA</span>
      </a>
    </li>
    <li>
      <a href="enfa-to-dfa.html" class="nav-item-link">
        <span class="nav-label">Îµ-NFA</span>
        <span class="nav-arrow">â†’</span>
        <span class="nav-label">DFA</span>
      </a>
    </li>
    <li>
      <a href="nfa-to-regex.html" class="nav-item-link">
        <span class="nav-label">NFA</span>
        <span class="nav-arrow">â†’</span>
        <span class="nav-label">RegEx</span>
      </a>
    </li>
    <li>
      <a href="regex-to-nfa.html" class="nav-item-link">
        <span class="nav-label">RegEx</span>
        <span class="nav-arrow">â†’</span>
        <span class="nav-label">NFA</span>
      </a>
    </li>
    <li>
      <a href="pda-to-cfg.html" class="nav-item-link">
        <span class="nav-label">PDA</span>
        <span class="nav-arrow">â†’</span>
        <span class="nav-label">CFG</span>
      </a>
    </li>
    <li>
      <a href="cfl-to-cfg.html" class="nav-item-link">
        <span class="nav-label">CFL</span>
        <span class="nav-arrow">â†’</span>
        <span class="nav-label">CFG</span>
      </a>
    </li>
    <li>
      <a href="tm-to-fa.html" class="nav-item-link">
        <span class="nav-label">TM</span>
        <span class="nav-arrow">â†’</span>
        <span class="nav-label">FA</span>
      </a>
    </li>
    <li>
      <a href="dfa-minimizer.html" class="nav-item-link">
        <span class="nav-label">DFA</span>
        <span class="nav-label">Minimizer</span>
      </a>
    </li>
  </ul>
  <button id="theme-toggle" aria-label="Toggle theme"><span id="theme-icon">ðŸŒ™</span></button>
</nav>
  <main>
    <section class="glass" style="max-width: 900px; margin: 2rem auto; padding: 2rem;">
      <h1 class="gradient" style="font-size:2rem; font-weight:bold;">TM â†’ FA Converter</h1>
      <p>Build your Turing Machine visually, then see the approximate finite automaton and step-by-step conversion.</p>
      <div class="builder-controls" style="margin: 2rem 0; display: flex; gap: 1rem; flex-wrap: wrap;">
        <button id="add-state" class="btn-primary">+ Add State</button>
        <button id="add-transition" class="btn-secondary">â†’ Add Transition</button>
        <button id="set-initial" class="btn-info">Set Initial</button>
        <button id="set-final" class="btn-success">Set Final</button>
        <button id="set-accepting" class="btn-success">Set Accepting</button>
        <button id="set-rejecting" class="btn-danger">Set Rejecting</button>
        <button id="reset-nfa" class="btn-danger">Reset</button>
      </div>
      <!-- TM Transition Input Modal (hidden by default) -->
      <div id="tm-transition-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.4); z-index:1000; align-items:center; justify-content:center;">
        <div style="background:#18192a; padding:2rem; border-radius:1rem; min-width:320px; max-width:90vw; margin:auto;">
          <h3 style="margin-bottom:1rem; color:#fff;">Add TM Transition</h3>
          <div style="display:flex; flex-direction:column; gap:0.5rem;">
            <input id="tm-from-state" placeholder="From State (e.g., q0)" style="padding:0.5rem;" />
            <input id="tm-read" placeholder="Read Symbol (e.g., 0)" style="padding:0.5rem;" />
            <input id="tm-write" placeholder="Write Symbol (e.g., 1)" style="padding:0.5rem;" />
            <select id="tm-move" style="padding:0.5rem;">
              <option value="R">Shift Right (R)</option>
              <option value="L">Shift Left (L)</option>
            </select>
            <input id="tm-to-state" placeholder="To State (e.g., q1)" style="padding:0.5rem;" />
            <button id="tm-add-transition-confirm" class="btn-primary" style="margin-top:1rem;">Add Transition</button>
            <button id="tm-add-transition-cancel" class="btn-danger" style="margin-top:0.5rem;">Cancel</button>
          </div>
        </div>
      </div>
      <!-- Tape Input Box -->
      <div style="margin: 1.5rem 0; text-align:center;">
        <label for="tm-tape-input" style="font-weight:bold; color:#fff;">Tape Input:</label>
        <input id="tm-tape-input" type="text" placeholder="Enter tape/input string (e.g., 0011)" style="padding:0.5rem; min-width:200px; border-radius:0.5rem; border:none; margin-left:0.5rem;" />
      </div>
      <!-- Tape Visualization and Controls -->
      <div id="tm-tape-visualization" style="margin: 1.5rem 0; text-align:center;"></div>
      <div style="text-align:center; margin-bottom:1.5rem;">
        <button id="tm-step-btn" class="btn-primary">Step</button>
        <button id="tm-run-btn" class="btn-success">Run</button>
        <button id="tm-reset-tape-btn" class="btn-danger">Reset Tape</button>
      </div>
      <div class="canvas-container glass" style="margin-bottom:2rem;">
        <div id="nfa-graph-vis" style="width:100%;height:340px;"></div>
      </div>
      <div style="text-align:right;">
        <button id="convert-btn" class="btn-primary">Convert to FA</button>
      </div>
      <div class="canvas-container glass" style="margin-top:2rem;">
        <div id="dfa-graph-vis" style="width:100%;height:340px;"></div>
      </div>
      <div id="step-by-step" class="glass" style="margin-top:2rem; padding:1rem;">
        <h2 style="font-size:1.2rem;">Step-by-Step Explanation</h2>
        <div id="steps-content">(Conversion steps will appear here.)</div>
      </div>
      <div id="solved-examples" class="glass" style="margin-top:2rem; padding:1rem;">
        <h2 style="font-size:1.2rem;">Solved Examples</h2>
        <div id="examples-content">(Example problems will appear here.)</div>
      </div>
    </section>
  </main>
  <footer class="glass custom-footer">
    <span class="footer-text">Â© 2024 Automata Visualizer Pro</span>
    <span class="footer-icons">
      <a href="https://github.com/Husrocks" target="_blank" aria-label="GitHub" class="footer-icon-link">
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24" class="footer-icon"><path d="M12 2C6.48 2 2 6.58 2 12.26c0 4.5 2.87 8.32 6.84 9.67.5.09.68-.22.68-.48 0-.24-.01-.87-.01-1.7-2.78.62-3.37-1.36-3.37-1.36-.45-1.18-1.1-1.5-1.1-1.5-.9-.63.07-.62.07-.62 1 .07 1.53 1.05 1.53 1.05.89 1.56 2.34 1.11 2.91.85.09-.66.35-1.11.63-1.37-2.22-.26-4.56-1.14-4.56-5.07 0-1.12.39-2.03 1.03-2.75-.1-.26-.45-1.3.1-2.7 0 0 .84-.28 2.75 1.05A9.38 9.38 0 0 1 12 6.84c.85.004 1.7.12 2.5.35 1.9-1.33 2.74-1.05 2.74-1.05.55 1.4.2 2.44.1 2.7.64.72 1.03 1.63 1.03 2.75 0 3.94-2.34 4.8-4.57 5.06.36.32.68.94.68 1.9 0 1.37-.01 2.47-.01 2.8 0 .26.18.57.69.47A10.01 10.01 0 0 0 22 12.26C22 6.58 17.52 2 12 2Z"/></svg>
      </a>
      <a href="https://www.linkedin.com/in/hussnain-bashir/" target="_blank" aria-label="LinkedIn" class="footer-icon-link">
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24" class="footer-icon"><path d="M16 8a6 6 0 0 1 6 6v5.25c0 .41-.34.75-.75.75h-3.5a.75.75 0 0 1-.75-.75V14a2 2 0 0 0-4 0v5.25c0 .41-.34.75-.75.75h-3.5A.75.75 0 0 1 4 19.25V8.75C4 8.34 4.34 8 4.75 8h3.5c.41 0 .75.34.75.75v10.5c0 .41-.34.75-.75.75h-3.5A.75.75 0 0 1 4 19.25Z"/></svg>
      </a>
      <a href="https://www.instagram.com/imhussnain.001/" target="_blank" aria-label="Instagram" class="footer-icon-link">
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24" class="footer-icon"><rect x="2.5" y="2.5" width="19" height="19" rx="5.5"/><circle cx="12" cy="12" r="5"/><circle cx="18" cy="6" r="1.5"/></svg>
      </a>
    </span>
  </footer>
</body>
<script>
window.addEventListener('DOMContentLoaded', () => {
  const examplesDiv = document.getElementById('examples-content');
  if (!examplesDiv || !window.solvedExamples) return;
  // Only show TMâ†’FA examples
  const examples = window.solvedExamples.filter(ex => ex.tm && ex.fa);
  if (examples.length === 0) {
    examplesDiv.innerHTML = '<div style="color:#888">No solved examples available.</div>';
    return;
  }
  examplesDiv.innerHTML = examples.map((ex, i) =>
    `<button class="btn-secondary example-btn" data-idx="${i}">${ex.title}</button>`
  ).join(' ');
  examplesDiv.querySelectorAll('.example-btn').forEach(btn => {
    btn.onclick = () => {
      const idx = btn.getAttribute('data-idx');
      const ex = examples[idx];
      // Render TM as TM graph (if possible)
      if (ex.tm) {
        try {
          new VisGraphRenderer('nfa-graph-vis').renderAutomaton(ex.tm, 'tm');
        } catch (e) {
          document.getElementById('nfa-graph-vis').innerHTML = '<div style="color:red">Cannot render TM as graph.</div>';
        }
      } else {
        document.getElementById('nfa-graph-vis').innerHTML = '<div style="color:#888">No TM to display.</div>';
      }
      // Render FA as DFA graph
      if (ex.fa) {
        try {
          new VisGraphRenderer('dfa-graph-vis').renderAutomaton(ex.fa, 'dfa');
        } catch (e) {
          document.getElementById('dfa-graph-vis').innerHTML = '<div style="color:red">Cannot render FA as graph.</div>';
        }
      } else {
        document.getElementById('dfa-graph-vis').innerHTML = '<div style="color:#888">No FA to display.</div>';
      }
      document.getElementById('steps-content').innerHTML = ex.steps.map(s => `<div class='step'>${s}</div>`).join('');
    };
  });
});
</script>
</html>